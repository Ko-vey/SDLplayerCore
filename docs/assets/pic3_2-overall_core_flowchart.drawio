<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/27.0.9 Chrome/134.0.6998.205 Electron/35.4.0 Safari/537.36" version="27.0.9">
  <diagram id="mOH2bGfiGYrDOPvBgQ04" name="第 1 页">
    <mxGraphModel dx="1140" dy="824" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="SB4KXp56VDfkJHgcCSQp-1" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="880" y="518" width="440" height="230" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-37" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="500" y="498" width="280" height="262" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-68" value="&lt;b&gt;audio_decode_thread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="530" y="498" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-4" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="900" y="150" width="430" height="260.38" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-3" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="500" y="217" width="280" height="263" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rhwfTb7_6T4bcmKi983J-2" target="c72-SqDra1Vp4JeCFU7h-42" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rhwfTb7_6T4bcmKi983J-2" value="开始" style="ellipse;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="194.99" y="80" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7iCDQOCc2yBLhXgkUccZ-12" target="Xfuu56E65eA4KIhRK03K-72" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-12" value="AVPacket" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=6.809560139973939;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="400" y="562.75" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7iCDQOCc2yBLhXgkUccZ-17" target="Xfuu56E65eA4KIhRK03K-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-17" value="AVPacket" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=6.809560139973939;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="1" vertex="1">
          <mxGeometry x="400" y="282" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-18" value="视频包队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="262" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-24" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=1 1;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="80" y="519.75" width="300" height="240.25" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-25" value="&lt;b&gt;demux_thread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="85" y="526" width="100" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-26" value="&lt;b&gt;数据读取和解复用&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="269.99" y="526" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-38" value="&lt;b&gt;video_decode_thread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="530" y="217" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-39" value="&lt;b&gt;视频解码&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="690" y="217" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7iCDQOCc2yBLhXgkUccZ-42" target="-IkFpjDtR0wQirPniWO9-34" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="880" y="584" />
              <mxPoint x="880" y="584" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-42" value="AVFrame" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=6.809560139973939;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="790" y="562.75" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-43" value="音频帧队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="790" y="542.75" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-44" value="AVFrame" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=6.809560139973939;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="790" y="282" width="80" height="40" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="7iCDQOCc2yBLhXgkUccZ-45" target="Xfuu56E65eA4KIhRK03K-48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="7iCDQOCc2yBLhXgkUccZ-45" value="视频帧队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="790" y="262" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c72-SqDra1Vp4JeCFU7h-25" target="c72-SqDra1Vp4JeCFU7h-31" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="235" y="423" />
              <mxPoint x="235" y="423" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-25" value="FFmpegDemuxer::open()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="152.5" y="293.5" width="165" height="116" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-26" value="avformat_alloc_context()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-25" vertex="1">
          <mxGeometry y="26" width="165" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-29" value="avformat_open_input()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-25" vertex="1">
          <mxGeometry y="56" width="165" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-30" value="avformat_find_stream_info()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-25" vertex="1">
          <mxGeometry y="86" width="165" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c72-SqDra1Vp4JeCFU7h-31" target="Xfuu56E65eA4KIhRK03K-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-31" value="FFmpegDemuxer::findStreamsInternal()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="105" y="436" width="260" height="56" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-32" value="av_find_best_stream()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-31" vertex="1">
          <mxGeometry y="26" width="260" height="30" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-36" value="FFmpegDemuxer::readPacket()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="130" y="685.5" width="210" height="56" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-37" value="av_read_frame()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-36" vertex="1">
          <mxGeometry y="26" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c72-SqDra1Vp4JeCFU7h-42" target="c72-SqDra1Vp4JeCFU7h-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="ticRcjopByrPdoe4r7Mj-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="c72-SqDra1Vp4JeCFU7h-42" target="ticRcjopByrPdoe4r7Mj-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="388" y="169" />
              <mxPoint x="388" y="145" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-42" value="MediaPlayer::init_components()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="108.11999999999999" y="150" width="253.74" height="116" as="geometry" />
        </mxCell>
        <mxCell id="c72-SqDra1Vp4JeCFU7h-43" value="MediaPlayer::init_ffmpeg_resources()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-42" vertex="1">
          <mxGeometry y="26" width="253.74" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-9" value="MediaPlayer::init_demuxer_and_decoders()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-42" vertex="1">
          <mxGeometry y="56" width="253.74" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-10" value="m_demuxer-&gt;open()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="c72-SqDra1Vp4JeCFU7h-42" vertex="1">
          <mxGeometry y="86" width="253.74" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-1" value="MediaPlayer::video_decode_func()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="530" y="242" width="240" height="116" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-2" value="m_videoPacketQueue-&gt;pop()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-1" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-23" value="m_videoDecoder-&gt;decode()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-1" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-8" value="m_videoFrameQueue-&gt;push()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-1" vertex="1">
          <mxGeometry y="86" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-3" value="FFmpegVideoDecoder::decode()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="530" y="378" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-4" value="avcodec_send_packet()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-3" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-5" value="avcodec_receive_frame()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-3" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-18" value="音频包队列" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="400" y="542.75" width="80" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Xfuu56E65eA4KIhRK03K-8" target="7iCDQOCc2yBLhXgkUccZ-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="-IkFpjDtR0wQirPniWO9-19" target="7iCDQOCc2yBLhXgkUccZ-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="390" y="624" />
              <mxPoint x="390" y="440" />
              <mxPoint x="440" y="440" />
            </Array>
            <mxPoint x="350" y="759" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-40" value="MediaPlayer::demux_thread_func()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="109.99000000000001" y="553" width="250.01" height="116" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-41" value="m_demuxer-&gt;readPacket()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-40" vertex="1">
          <mxGeometry y="26" width="250.01" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-19" value="m_videoPacketQueue-&gt;push()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-40" vertex="1">
          <mxGeometry y="56" width="250.01" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-20" value="m_audioPacketQueue-&gt;push()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-40" vertex="1">
          <mxGeometry y="86" width="250.01" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="-IkFpjDtR0wQirPniWO9-20" target="7iCDQOCc2yBLhXgkUccZ-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="389" y="779" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-47" value="MediaPlayer::video_render_func()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="910" y="172.75" width="240" height="116" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-48" value="m_videoFrameQueue-&gt;pop()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-47" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-82" value="m_videoRenderer-&gt;renderFrame()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-47" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-5" value="m_videoRenderer-&gt;refresh()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-47" vertex="1">
          <mxGeometry y="86" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-52" value="ClockManager::getMasterClockTime()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="910" y="421" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-53" value="ClockManager::getAudioClockTime()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-52" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-30" value="ClockManager::getExternalClockTime()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-52" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-55" value="SDLVideoRenderer::renderFrame" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="910" y="308.5" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-56" value="SDL_Delay(pts - MasterClockTime)" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-55" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-61" value="SDL_RenderPresent(m_renderer)" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-55" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Xfuu56E65eA4KIhRK03K-61" target="Xfuu56E65eA4KIhRK03K-67" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1210" y="459.75" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-67" value="SDL2显示图像" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1217" y="362" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-69" value="&lt;b&gt;音频解码&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="690" y="498" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-71" value="MediaPlayer::audio_decode_func()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="530" y="518" width="240" height="116" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-72" value="m_audioPacketQueue-&gt;pop()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-71" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-14" value="m_videoDecoder-&gt;decode()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-71" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-78" value="m_audioFrameQueue-&gt;push()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-71" vertex="1">
          <mxGeometry y="86" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="Xfuu56E65eA4KIhRK03K-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="650" y="688" />
              <mxPoint x="650" y="688" />
            </Array>
            <mxPoint x="650" y="688" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-74" value="FFmpegAudioDecoder::decode()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="530" y="655.5" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-75" value="avcodec_send_packet()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-74" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-76" value="avcodec_receive_frame()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="Xfuu56E65eA4KIhRK03K-74" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Xfuu56E65eA4KIhRK03K-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="Xfuu56E65eA4KIhRK03K-56" target="Xfuu56E65eA4KIhRK03K-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="440" as="targetPoint" />
            <Array as="points">
              <mxPoint x="880" y="350" />
              <mxPoint x="880" y="443" />
              <mxPoint x="910" y="443" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="-IkFpjDtR0wQirPniWO9-5" target="Xfuu56E65eA4KIhRK03K-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="Xfuu56E65eA4KIhRK03K-82" target="Xfuu56E65eA4KIhRK03K-55" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="880" y="244" />
              <mxPoint x="880" y="330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-9" value="定时刷新" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1165" y="254" width="58" height="18" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="Xfuu56E65eA4KIhRK03K-41" target="c72-SqDra1Vp4JeCFU7h-36" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="94" y="594" />
              <mxPoint x="94" y="700" />
              <mxPoint x="130" y="700" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="-IkFpjDtR0wQirPniWO9-23" target="Xfuu56E65eA4KIhRK03K-3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-27" value="ClockManager::getAudioClockTime()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="1165" y="447" width="240" height="56" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-28" value="pts = pts - buffered_duration_sec" style="text;strokeColor=none;fillColor=none;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-IkFpjDtR0wQirPniWO9-27" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="Xfuu56E65eA4KIhRK03K-53" target="-IkFpjDtR0wQirPniWO9-27" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1150" y="461" />
              <mxPoint x="1150" y="461" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-33" value="MediaPlayer::audio_render_func()" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="910" y="542.75" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-34" value="m_audioFrameQueue-&gt;pop()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-IkFpjDtR0wQirPniWO9-33" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-35" value="m_audioRenderer-&gt;renderFrame()" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-IkFpjDtR0wQirPniWO9-33" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-37" value="SDLAudioRenderer::renderFrame" style="swimlane;fontStyle=0;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;align=center;fontSize=14;" parent="1" vertex="1">
          <mxGeometry x="910" y="645.25" width="240" height="86" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-38" value="m_clock_manager-&gt;setAudioClock(pts)" style="text;strokeColor=#6c8ebf;fillColor=#dae8fc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-IkFpjDtR0wQirPniWO9-37" vertex="1">
          <mxGeometry y="26" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-39" value="SDL_QueueAudio()" style="text;strokeColor=#d79b00;fillColor=#ffe6cc;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontSize=12;" parent="-IkFpjDtR0wQirPniWO9-37" vertex="1">
          <mxGeometry y="56" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="-IkFpjDtR0wQirPniWO9-39" target="-IkFpjDtR0wQirPniWO9-41" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1210" y="802" as="targetPoint" />
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-41" value="SDL2播放声音" style="rounded=1;whiteSpace=wrap;html=1;shadow=0;fillColor=#fff2cc;strokeColor=#d6b656;" parent="1" vertex="1">
          <mxGeometry x="1217" y="698.75" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="-IkFpjDtR0wQirPniWO9-35" target="-IkFpjDtR0wQirPniWO9-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="-IkFpjDtR0wQirPniWO9-38" target="-IkFpjDtR0wQirPniWO9-28" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1190" y="691" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-49" value="&lt;b&gt;video_render_thread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="915" y="150" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-50" value="&lt;b&gt;视频渲染&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1070" y="150" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-51" value="&lt;b&gt;audio_render_thread&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="910" y="522.75" width="130" height="20" as="geometry" />
        </mxCell>
        <mxCell id="-IkFpjDtR0wQirPniWO9-52" value="&lt;b&gt;音频渲染&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1065" y="522.75" width="60" height="20" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="SB4KXp56VDfkJHgcCSQp-14" target="Xfuu56E65eA4KIhRK03K-74" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="SB4KXp56VDfkJHgcCSQp-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.523;entryY=0.944;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="Xfuu56E65eA4KIhRK03K-78" target="7iCDQOCc2yBLhXgkUccZ-42" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="832" y="619" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ticRcjopByrPdoe4r7Mj-1" value="&lt;span style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;1、创建AVFrame/AVPacket数据缓存队列&lt;/span&gt;&lt;br style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;2、初始化时钟（音频/外部时钟）&lt;/span&gt;&lt;br style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;3、初始化FFmpeg和SDL相关资源&lt;/span&gt;&lt;br style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;&lt;span style=&quot;color: rgb(51 , 51 , 51)&quot;&gt;4、启动解复用/解码等线程(视频渲染线程在MediaPlayer::runMainLoop中启动)&lt;/span&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;align=left;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="1" vertex="1">
          <mxGeometry x="415" y="100" width="255" height="90" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
